---
import Touchmark from './Touchmark.astro';

interface Props {
  title: string;
  showNav?: boolean;
  backHref?: string;
}

const { title, showNav = false, backHref } = Astro.props;
const currentPath = Astro.url.pathname;
---

<header class="page-header">
  <div class="page-header-left">
    <a href="/" class="page-header-logo" aria-label="Home">
      <Touchmark class="page-header-touchmark" transition:name="touchmark" />
    </a>
    {backHref ? (
      <a href={backHref} class="page-header-back">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
        {title}
      </a>
    ) : (
      <h1>{title}</h1>
    )}
  </div>
  {showNav && (
    <nav class="page-header-nav">
      <a href="/blog" class:list={{ active: currentPath.startsWith('/blog') || currentPath.startsWith('/posts') }}>Blog</a>
      <a href="/games" class:list={{ active: currentPath.startsWith('/games') }}>Games</a>
      <a href="/apps" class:list={{ active: currentPath.startsWith('/apps') }}>Apps</a>
    </nav>
  )}
</header>
